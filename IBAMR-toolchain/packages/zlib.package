VERSION=1.2.11
NAME=zlib-${VERSION}
SOURCE=http://zlib.net/
PACKING=.tar.gz
CHECKSUM=1c9f62f0778697a09d36121ead88e08e
BUILDCHAIN=custom

INSTALL_PATH=${INSTALL_PATH}/${NAME}

package_specific_build () {
    cp -rf ${UNPACK_PATH}/${EXTRACTSTO}/* .
    ./configure --prefix=${INSTALL_PATH}
    quit_if_fail "zlib configure failed"
    
    make -j${JOBS} install
    quit_if_fail "zlib make install failed"
}

package_specific_register () {
    export ZLIB_DIR=${INSTALL_PATH}
    export ZLIB_INCLUDE=${INSTALL_PATH}/include
    export ZLIB_LIBPATH=${INSTALL_PATH}/lib
}

package_specific_conf () {
    # Generate configuration file
    CONFIG_FILE=${CONFIGURATION_PATH}/${NAME}
    rm -f $CONFIG_FILE
    echo "
export ZLIB_DIR=${INSTALL_PATH}
export ZLIB_INCLUDE=${INSTALL_PATH}/include
export ZLIB_LIBPATH=${INSTALL_PATH}/lib
" >> $CONFIG_FILE
}
